# Script App

## The Swift language

Please check out the [Swift in a nutshell page](swift.md).

## Projet composition

### Programming languages

- python 3
- swift 4
- shell scripts (some are POSIX compliant but most require bash)

### Dental datum obtention

Dental datum (2d vectorial image) have been obtained by drawing it in LibreOffice, and exporting point coordinated,
thanks to a python script.
Obtained curves are quadratic Bezier ones.
Each one contains 2 extremity points and 2 control points.
These files are stored in the folder: Resources > ToothPosition.
They contain binary datum (plain text in older versions).
Their extension is '.tp'.
They contain point positions for occlusal, buccal and lingual/palatine faces.
They also indicate the positions of the 6 points used in chartings: buccal, lingual/palatine, mesio- and disto-buccal, and mesio and disto-lingual.

### Main folder structure: 'Script_odont'

Some files are generated by XCode:
- Assets.xcassets : it allows to store the resource files used by the application.
 When files are added (drag and drop, or contextual menu), XCode adds a subfolder containing these files
 and a 'Contents.json' file describing the resource composition. It make the access in the Swift code easier
 (Bundle class).
 See https://developer.apple.com/documentation.
- \<language identification code\>.lproj : static translation files (\*.strings)
and dynamic ones (they, for example, gather rule allowing to manage plurals) (\*.stringsdict).
- Base.lproj : translations for view files

Other have been manually added (their name is not reserved, on the contrary to previous ones) :
- Configuration : configuration files that vary according to the deployment mode.
 It consits of a key-value dictionary. This file is of type XML and its structure is constrained by an Apple DTD.
 During the compilation phase, the relevant file is copied (Run Script phase, that might be found in the 
 Script_odont > Target > Script_odont > Build Phases tab).
- Core : files defining classes and structures manipulated by the program (comparable to the model).
- Frameworks : contains dynamic libraries, such as the 'ToothCommon' one.
- Graphics : set of files defining views.
- Network : classes allowing network access.
- Resources : other resources that will be included in the application.
- Utils : utilities.

## Main screen
The main screen is a menu, which allows the user to choose a module.
The following modules are available:
- Tooth Recognition: the user trains to recoginze teeth by answering a series of questions.
- Therapeutic Basic: the user should choose the best therapeutic solution for a given case.
- Therapeutic Scale: the user should order therapeutic alternatives.
- Tct Manager: allows to export the results from 'Therapeutic Scale'
- Sct Browsing: browses among SCT tests.
- My SCT: displays the list of answered SCTs and incomplete ones.
- Settings: adjust the settings.
- Other: displays the tutorials and the leaderboard.
- Test STL Color: a test module to display 3D files with colors.
